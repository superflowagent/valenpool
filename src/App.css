#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

/* Smooth scroll offset para secciones */
html {
  scroll-behavior: smooth;
}

section[id] {
  scroll-margin-top: 100px;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}

.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}

.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}

/* Fade-in animations para secciones */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(40px) scale(0.98);
  }

  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Contenedor: más notable (desplazamiento y duración aumentados) */
.fade-in-section {
  opacity: 0;
  transform: translateY(40px) scale(0.98);
  transition:
    opacity 1s cubic-bezier(0.16, 0.84, 0.37, 1),
    transform 1s cubic-bezier(0.16, 0.84, 0.37, 1);
  will-change: opacity, transform;
}

.fade-in-section.fade-in-visible {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Hijos: pequeño movimiento y stagger ligero */
.fade-in-section > * {
  opacity: 0;
  transform: translateY(12px) scale(0.995);
  transition:
    opacity 0.9s ease-out,
    transform 0.9s ease-out;
  will-change: opacity, transform;
}

.fade-in-section.fade-in-visible > * {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* Stagger: incrementos pequeños y agradables */
.fade-in-section.fade-in-visible > *:nth-child(1) {
  transition-delay: 0.04s;
}

.fade-in-section.fade-in-visible > *:nth-child(2) {
  transition-delay: 0.08s;
}

.fade-in-section.fade-in-visible > *:nth-child(3) {
  transition-delay: 0.12s;
}

.fade-in-section.fade-in-visible > *:nth-child(4) {
  transition-delay: 0.16s;
}

.fade-in-section.fade-in-visible > *:nth-child(5) {
  transition-delay: 0.2s;
}

.fade-in-section.fade-in-visible > *:nth-child(6) {
  transition-delay: 0.24s;
}

.fade-in-section.fade-in-visible > *:nth-child(7) {
  transition-delay: 0.28s;
}

.fade-in-section.fade-in-visible > *:nth-child(8) {
  transition-delay: 0.32s;
}

/* Fallback: si hay más hijos, aplicar un pequeño delay por defecto */
.fade-in-section.fade-in-visible > * {
  transition-delay: 0s;
}

/* Handle: extended but faster shake when the section becomes visible (high frequency, same duration) */
@keyframes handle-shake {
  /* The shake is now higher frequency (many small oscillations) and occupies most of the 4s timeline */
  0% { transform: translateX(0); box-shadow: 0 6px 18px rgba(0,0,0,0.12); }
  3% { transform: translateX(-6px) rotate(-1deg); }
  6% { transform: translateX(6px) rotate(1deg); }
  9% { transform: translateX(-5px) rotate(-0.9deg); }
  12% { transform: translateX(5px) rotate(0.9deg); }
  15% { transform: translateX(-4px) rotate(-0.7deg); }
  18% { transform: translateX(4px) rotate(0.7deg); }
  21% { transform: translateX(-3px) rotate(-0.5deg); }
  24% { transform: translateX(3px) rotate(0.5deg); }
  27% { transform: translateX(-2px) rotate(-0.3deg); }
  30% { transform: translateX(2px) rotate(0.3deg); }
  36% { transform: translateX(-1.5px) rotate(-0.18deg); }
  42% { transform: translateX(1.5px) rotate(0.18deg); }
  50% { transform: translateX(-1px) rotate(-0.08deg); }
  60% { transform: translateX(1px) rotate(0.08deg); }
  75% { transform: translateX(-0.6px) rotate(-0.04deg); }
  90% { transform: translateX(0); box-shadow: 0 10px 24px rgba(0,0,0,0.15); }
  100% { transform: translateX(0); box-shadow: 0 10px 24px rgba(0,0,0,0.15); }
}

/* Keep total duration at 4s but the movement cycles are faster */
.fade-in-section.fade-in-visible .handle-inner {
  animation: handle-shake 4s cubic-bezier(0.22, 0.8, 0.36, 1) 0.06s 1 both;
}

/* Arrow appearance to hint the user to drag the handle */
@keyframes arrow-in {
  0% { opacity: 0; transform: translateY(-50%) translateX(8px); }
  20% { opacity: 1; transform: translateY(-50%) translateX(0); }
  80% { opacity: 1; transform: translateY(-50%) translateX(0); }
  100% { opacity: 0; transform: translateY(-50%) translateX(-8px); }
}

.handle-outer { outline: none; position: relative; z-index: 20; }
.handle-outer:focus-visible { box-shadow: 0 14px 35px rgba(0,0,0,0.18); }
.handle-inner { transition: transform .12s ease, box-shadow .12s ease; }

/* Chevrons using inline Lucide icons inside the handle (persistent) */
.handle-outer .chev { position: absolute; top: 50%; transform: translateY(-50%); width: 48px; height: 48px; display: flex; align-items: center; justify-content: center; background: none !important; border-radius: 0; box-shadow: none !important; opacity: 1; pointer-events: none; z-index: 25; }
/* Slightly further from handle: increased by ~4px to avoid overlapping the white bar */
.handle-outer .chev-left { left: -16px; }
.handle-outer .chev-right { right: -16px; }

/* Sync chevrons with the handle shake so they move together when the animation runs */
.fade-in-section.fade-in-visible .handle-outer .chev,
.fade-in-section.fade-in-visible .handle-outer .chev-left,
.fade-in-section.fade-in-visible .handle-outer .chev-right {
  animation: handle-shake 4s cubic-bezier(0.22, 0.8, 0.36, 1) 0.06s 1 both;
  opacity: 1;
}

/* Disable motion for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .fade-in-section,
  .fade-in-section.fade-in-visible,
  .fade-in-section > *,
  .fade-in-section.fade-in-visible > * {
    transition: none !important;
    animation: none !important;
    transform: none !important;
    opacity: 1 !important;
  }
  /* Also disable handle animations and arrows */
  .handle-inner,
  .handle-outer .chev {
    animation: none !important;
  }
}

/* Disable motion for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .fade-in-section,
  .fade-in-section.fade-in-visible,
  .fade-in-section > *,
  .fade-in-section.fade-in-visible > * {
    transition: none !important;
    animation: none !important;
    transform: none !important;
    opacity: 1 !important;
  }
  /* Also disable handle hover effects */
  .handle-outer,
  .handle-inner {
    transition: none !important;
    transform: none !important;
    box-shadow: none !important;
  }
}
